!function(){let e=null,t=[];function n(e){return null==e||""===(e=String(e).replace(/\u00A0/g," ").replace(/,/g,"").trim().toLowerCase())||""===(e=(e=e.replace(/\s*km²$/g,"").replace(/\s*km2$/g,"").replace(/\s*km$/g,"").replace(/\s*sq\.?\s*km$/g,"").replace(/\s*sqkm$/g,"").replace(/\s*m$/g,"")).trim())?NaN:parseFloat(e)}function l(e){if(!e)return!1;const t=String(e).trim().toLowerCase();if(""===t)return!1;return!!/^[-+]?\d+(\.\d+)?\s*(km|km2|km²|sq ?km|sq\. ?km|sqkm|m)?$/.test(t)&&!isNaN(n(t))}function r(e){return!!e&&(e=String(e).trim().toLowerCase(),/^https?:\/\//.test(e)||/^www\./.test(e)||/\.(com|org|net|io|gov|edu)(\/|$)/.test(e))}function o(){const e=document.querySelector("#tableContainer table");if(!e)return;e.querySelectorAll("tbody tr").forEach(e=>{let l=!0;for(const r of t){const t=e.children[r.col],o=t?(t.textContent||t.innerText||"").trim():"";if("text"===r.type){const e=r.el.value.trim().toLowerCase();if(e&&!o.toLowerCase().includes(e)){l=!1;break}}else if("numeric"===r.type){const e=r.minEl.value.trim(),t=r.maxEl.value.trim(),i=""!==e,s=""!==t;if(!i&&!s)continue;const c=n(o);if(isNaN(c)){l=!1;break}if(i&&c<Number(e)){l=!1;break}if(s&&c>Number(t)){l=!1;break}}}e.style.display=l?"":"none"})}window.fltr_build=function(){const i=document.getElementById("tableContainer");if(!i)return;const s=i.querySelector("table");if(!s)return;const c=s.querySelector("thead"),a=s.querySelectorAll("tbody tr");if(!c||0===a.length)return;const d=[...c.querySelectorAll("th")];document.querySelectorAll("#fltrControls").forEach(e=>e.remove()),t=[],e=document.createElement("div"),e.id="fltrControls",e.style.display="flex",e.style.flexWrap="wrap",e.style.gap="6px",e.style.padding="10px",e.style.border="1px solid #ddd",e.style.background="#eaeaea",i.prepend(e);const p=document.createElement("button");p.type="button",p.textContent="Apply Filters",p.style.padding="6px 12px",p.style.cursor="pointer",p.style.fontSize="12px",p.addEventListener("click",o),e.appendChild(p),d.forEach((o,i)=>{const s=o.innerText.trim();if(!s)return;const c=[...a].map(e=>{const t=e.children[i];return t?(t.textContent||t.innerText||"").trim():""});if(c.some(r))return;const d=c.filter(e=>""!==e);if(0===d.length)return;const p=d.every(l),u=document.createElement("div");u.style.display="flex",u.style.flexDirection="column",u.style.width="170px";const m=document.createElement("label");if(m.style.fontSize="12px",m.style.fontWeight="600",m.textContent=s,u.appendChild(m),p){const e=c.map(e=>n(e)).filter(e=>!isNaN(e)),l=e.length?Math.min(...e):"",r=e.length?Math.max(...e):"",o=document.createElement("div");o.style.display="flex",o.style.gap="4px";const s=document.createElement("input");s.type="number",s.placeholder="Min",s.style.padding="4px",s.style.border="1px solid #ccc",s.style.width="70px",s.value=""!==l?l:"",s.defaultValue=""!==l?l:"";const a=document.createElement("input");a.type="number",a.placeholder="Max",a.style.padding="4px",a.style.border="1px solid #ccc",a.style.width="70px",a.value=""!==r?r:"",a.defaultValue=""!==r?r:"",o.appendChild(s),o.appendChild(a),u.appendChild(o),t.push({type:"numeric",col:i,minEl:s,maxEl:a})}else{const e=document.createElement("input");e.type="text",e.placeholder="contains...",e.style.padding="4px",e.style.border="1px solid #ccc",e.style.width="150px",u.appendChild(e),t.push({type:"text",col:i,el:e})}e.appendChild(u)})}}();